<html>
<head>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108074682-1"></script>
	<script>
  	window.dataLayer = window.dataLayer || [];
  	function gtag(){dataLayer.push(arguments);}
  	gtag('js', new Date());

  	gtag('config', 'UA-108074682-1');
	</script>

     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>1star</title>
     
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

     <div class="container" style="margin-bottom:35px;margin-top: 35px;">
  <div class="row justify-content-md-center">
    <h1 style="margin-bottom:-10px;margin-left: 10px "><a style="text-decoration: none; color:blue;" href="/">1star</a></h1>
  </div>
</div>
     

     <link rel="stylesheet" href="/css/format.css">
</head>
<body>
  


<div class="container">
  <div class="row">
    <div class="col-sm-2" >
		  <a class="btn btn-warning" href="/" role="button" style="width: 120;">Sommaire</a>
          <br><br>
          <a class="btn btn-primary" href="/categories/presentation/" role="button" style="width: 120;">Presentation</a>
          <br><br>
          <a class="btn btn-primary" href="/categories/neerlandais/" role="button" style="width: 120;">Néerlandais</a>
          <br><br>
          <a class="btn btn-primary" href="/categories/r_language/" role="button" style="width: 120;">R</a>
          <br><br>
          <a class="btn btn-primary" href="/categories/hugo/" role="button" style="width: 120;">Hugo</a>
          <br><br>
	  <a class="btn btn-primary" href="/categories/religion/" role="button" style="width: 120;">Religion</a>
          <br><br>
          <a class="btn btn-info" href="https://istarosel.wufoo.com/forms/z4jfkis1697grc/" role="button" style="width: 120;">Me contacter</a>
</div>

    <div class="col-sm-10">
     <div style="margin:25px;">
          <h1>raster image change color</h1>
          <div style="color:grey; font-size:16px;">Sunday, Oct 8, 2017</div>
          <div style="color:grey; font-size:16px;"></div>
          <div style="font-size:18px;"><p>Cet article présente comment transformer une image avec le language R. On isole une matrice qui associe à chaque pixel une couleur et on travaille sur cette matrice.</p>

<p></p>

<h2 id="première-étape-isoler-la-matrice-des-couleurs">Première étape : isoler la matrice des couleurs</h2>

<p>Il faut importer l&rsquo;image avec la librairie png puis on utilise la fonction as.raster pour transformer l&rsquo;image en matrice.
La matrice associe à chaque pixel une couleur. Cette matrice permettra par la suite de manipuler l&rsquo;image.</p>

<pre><code class="language-r">library(jpeg)
library(grid)
library(png)

test &lt;- readPNG(&quot;test.png&quot;)
rtest &lt;- as.raster(test)
dim(rtest)
</code></pre>

<pre><code>## [1] 245 206
</code></pre>

<pre><code class="language-r">rtest[12,24]
</code></pre>

<pre><code>##      [,1]     
## [1,] &quot;#FFFFFF&quot;
</code></pre>

<h2 id="changer-les-couleurs-dans-la-matrice">Changer les couleurs dans la matrice</h2>

<pre><code class="language-r">elt &lt;- rtest == &quot;#FFFFFF&quot;
rtest[elt] &lt;- &quot;red&quot;
head(rtest)
</code></pre>

<pre><code>## [1] &quot;red&quot; &quot;red&quot; &quot;red&quot; &quot;red&quot; &quot;red&quot; &quot;red&quot;
</code></pre>

<h2 id="tracer-la-nouvelle-image">Tracer la nouvelle image</h2>

<p>on utilise pour ca la librairie grid.</p>

<pre><code class="language-r">require(grid)
pushViewport(viewport())
grid.raster(rtest,y=1, just=&quot;top&quot;)
</code></pre>

<p><img src="/figure/color1-1.png" alt="plot of chunk color1" /></p></div>
     </div>
     </div>
</div>
</div>
     <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/setup.js"></script>

     <div style="height:35px;"></div>
<div style=" position:fixed; color: white; height:35px; background-color:#757575; bottom:0px; text-align:center; width:99%">
     <p style="margin:10px; "><a style="color: white; " target="_blank" href="http://www.giraffeacademy.com/">1star Academy</a> </p>
</div>




</body>
</html>

